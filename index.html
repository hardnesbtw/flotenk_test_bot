<body>
    <!-- Ваша форма -->
    <form id="simpleForm">
        <!-- поля формы -->
        <button type="submit" id="htmlButton">Отправить форму</button>
    </form>
    
    <!-- Запасная кнопка, которая показывается если Main Button недоступна -->
    <button id="fallbackButton" style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background: #40a7e3; color: white; padding: 15px; border: none; font-size: 17px;">
        ОТПРАВИТЬ (запасной вариант)
    </button>

    <script>
        const tg = window.Telegram.WebApp;
        
        if (tg && tg.MainButton) {
            // Используем Main Button Telegram
            tg.expand();
            tg.MainButton.setText("ОТПРАВИТЬ").show();
            tg.MainButton.onClick(handleFormSubmit);
            
            // Скрываем HTML-кнопку
            document.getElementById('htmlButton').style.display = 'none';
        } else {
            // Показываем запасную кнопку
            document.getElementById('fallbackButton').style.display = 'block';
        }
        
        function handleFormSubmit() {
            // ваша логика отправки данных
            const data = { /* сбор данных */ };
            if (tg && tg.sendData) {
                tg.sendData(JSON.stringify(data));
            }
        }
        
        // Обработчик для HTML-кнопки
        document.getElementById('simpleForm').addEventListener('submit', function(e) {
            e.preventDefault();
            handleFormSubmit();
        });
        
        document.getElementById('fallbackButton').addEventListener('click', function(e) {
            e.preventDefault();
            handleFormSubmit();
        });
    </script>
</body>
